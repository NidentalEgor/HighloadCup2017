#define ENSURE_TRUE_OTHERWISE_RETURN(condition, return_value) if (!(condition)) return return_value;
#define ENSURE_TRUE_OTHERWISE_CONTINUE(condition) if (!(condition)) continue;